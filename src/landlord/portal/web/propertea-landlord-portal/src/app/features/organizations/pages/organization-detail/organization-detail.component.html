<div class="organization-detail">
  @if (isLoading()) {
    <p-card>
      <p-skeleton width="100%" height="2rem" styleClass="mb-3"></p-skeleton>
      <p-skeleton width="80%" height="1.5rem" styleClass="mb-2"></p-skeleton>
      <p-skeleton width="60%" height="1.5rem"></p-skeleton>
    </p-card>
  } @else if (organization(); as org) {
    <p-card>
      <ng-template pTemplate="header">
        <div class="card-header">
          <div class="header-content">
            <p-button
              icon="pi pi-arrow-left"
              (onClick)="goBack()"
              [text]="true"
              size="small">
            </p-button>
            <h2>{{ org.name }}</h2>
            <p-tag
              [value]="org.isActive ? 'Active' : 'Inactive'"
              [severity]="org.isActive ? 'success' : 'secondary'">
            </p-tag>
          </div>
          <div class="action-buttons">
            <p-button
              label="Edit"
              icon="pi pi-pencil"
              [routerLink]="['/organizations', org.id, 'edit']">
            </p-button>
            <p-button
              label="Delete"
              icon="pi pi-trash"
              severity="danger"
              (onClick)="onDelete()">
            </p-button>
          </div>
        </div>
      </ng-template>

      <div class="detail-content">
        <!-- Basic Information -->
        <section class="detail-section">
          <h3>Basic Information</h3>
          <p-divider></p-divider>

          <div class="detail-row">
            <label>Organization ID</label>
            <span>{{ org.id }}</span>
          </div>

          <div class="detail-row">
            <label>Name</label>
            <span>{{ org.name }}</span>
          </div>

          @if (org.description) {
            <div class="detail-row">
              <label>Description</label>
              <span>{{ org.description }}</span>
            </div>
          }
        </section>

        <!-- Contact Information -->
        <section class="detail-section">
          <h3>Contact Information</h3>
          <p-divider></p-divider>

          @if (org.contactEmail) {
            <div class="detail-row">
              <label>Email</label>
              <span>
                <a [href]="'mailto:' + org.contactEmail">{{ org.contactEmail }}</a>
              </span>
            </div>
          }

          @if (org.contactPhone) {
            <div class="detail-row">
              <label>Phone</label>
              <span>
                <a [href]="'tel:' + org.contactPhone">{{ org.contactPhone }}</a>
              </span>
            </div>
          }
        </section>

        <!-- Address -->
        @if (org.address) {
          <section class="detail-section">
            <h3>Address</h3>
            <p-divider></p-divider>

            <div class="detail-row">
              <label>Street</label>
              <span>{{ org.address.street }}</span>
            </div>

            <div class="detail-row">
              <label>City</label>
              <span>{{ org.address.city }}</span>
            </div>

            <div class="detail-row">
              <label>State</label>
              <span>{{ org.address.state }}</span>
            </div>

            <div class="detail-row">
              <label>Postal Code</label>
              <span>{{ org.address.postalCode }}</span>
            </div>

            <div class="detail-row">
              <label>Country</label>
              <span>{{ org.address.country }}</span>
            </div>
          </section>
        }
      </div>
    </p-card>
  } @else {
    <p-card>
      <div class="error-message">
        <i class="pi pi-exclamation-triangle" style="font-size: 3rem"></i>
        <h3>Organization not found</h3>
        <p-button label="Back to List" (onClick)="goBack()"></p-button>
      </div>
    </p-card>
  }
</div>
