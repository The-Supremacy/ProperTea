<hlm-autocomplete
  [value]="selectedOption()"
  [isItemEqualToValue]="isItemEqualToValue"
  [disabled]="disabled()"
  [search]="search()"
  (searchChange)="search.set($event)"
  (valueChange)="onValueChange($event)">
  <hlm-autocomplete-input
    [placeholder]="translatedPlaceholder()"
    [attr.aria-label]="ariaLabel() || null" />

  <hlm-autocomplete-content *hlmAutocompletePortal>
    @if (data.isLoading()) {
      <hlm-autocomplete-status>
        <hlm-spinner size="sm" />
      </hlm-autocomplete-status>
    } @else {
      <hlm-autocomplete-empty>{{ 'common.noResults' | transloco }}</hlm-autocomplete-empty>
      <div hlmAutocompleteList>
        @for (option of filteredOptions(); track option.value) {
          <hlm-autocomplete-item [value]="option">{{ option.label }}</hlm-autocomplete-item>
        }
      </div>
    }
  </hlm-autocomplete-content>
</hlm-autocomplete>
