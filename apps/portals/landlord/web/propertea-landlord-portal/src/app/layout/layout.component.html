<div class="flex flex-col h-screen">
  <!-- Header -->
  <app-header (menuToggle)="toggleMenu()" />

  <!-- Breadcrumbs (shown only when items exist) -->
  <app-breadcrumb />

  <div class="flex flex-1 overflow-hidden">
    <!-- Desktop Sidebar -->
    <aside class="hidden lg:flex w-64 border-r border-surface overflow-y-auto" style="background: var(--p-surface-card)">
      <nav class="flex flex-col w-full">
        <p-panelmenu [model]="navigationMenuItems()" [multiple]="false" class="w-full" />
      </nav>
    </aside>

    <!-- Mobile Drawer -->
    <p-drawer
      [(visible)]="mobileMenuVisible"
      [modal]="true"
      [style]="{'width': '280px'}"
      header="Menu"
    >
      <nav class="flex flex-col">
        <p-panelmenu [model]="navigationMenuItems()" [multiple]="false" class="w-full" />
      </nav>
    </p-drawer>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto bg-surface-ground">
      <ng-content></ng-content>

      <!-- Footer -->
      <footer class="border-top-1 border-surface bg-surface-card px-4 py-3 mt-auto" *transloco="let t">
        <div class="flex flex-col sm:flex-row justify-between items-center gap-2 text-sm text-muted-color">
          <span>{{ t('footer.copyright', { year: currentYear }) }}</span>
          <div class="flex gap-3">
            <span>{{ t('footer.status', { status: healthStatus() }) }}</span>
          </div>
        </div>
      </footer>
    </main>
  </div>
</div>
