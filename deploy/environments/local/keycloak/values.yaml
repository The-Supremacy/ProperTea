replicas: 1

# Admin user created on first boot only.
# In UAT/prod: use a Secret reference instead of plaintext.
extraEnv: |
  - name: KEYCLOAK_ADMIN
    value: admin
  - name: KEYCLOAK_ADMIN_PASSWORD
    value: "Password1!"
  - name: KC_HOSTNAME_STRICT
    value: "false"

# Pull DB credentials from CloudNativePG-created secret.
# CNPG creates keycloak-db-app automatically when the Cluster CR is applied.
# The secret contains 'username' and 'password' keys.
database:
  vendor: postgres
  hostname: keycloak-db-rw
  port: 5432
  database: keycloak
  username: keycloak
  existingSecret: keycloak-db-app
  existingSecretKey: password
