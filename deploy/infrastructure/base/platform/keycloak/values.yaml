fullnameOverride: keycloak

keycloak:
  hostnameStrict: false
  httpEnabled: true
  # Gateway sets X-Forwarded-Proto/X-Forwarded-Host (xforwarded, not RFC 7239).
  # Using "forwarded" here would cause Keycloak to ignore those headers entirely
  # and generate HTTP redirect URLs even though TLS is terminated at the gateway.
  proxyHeaders: "xforwarded"

# Use local cache for single-replica local dev. On prod use ispn for clustering.
cache:
  stack: local

metrics:
  enabled: true

# Disable the bundled postgres â€” we use a CNPG-managed cluster instead.
postgres:
  enabled: false

resources:
  requests:
    memory: 512Mi
    cpu: 200m
  limits:
    memory: 1Gi
    cpu: 1000m
