# Required for ArgoCD deployments: disables the pre-upgrade Helm hook job.
# The hook fires before the ServiceAccount exists on first install, causing
# a forbidden error. Longhorn's own ArgoCD docs mandate this setting.
# See: https://longhorn.io/docs/1.8.1/deploy/install/install-with-argocd/
preUpgradeChecker:
  jobEnabled: false

defaultSettings:
  replicaAutoBalance: least-effort
  storageMinimalAvailablePercentage: 20
  # Allow provisioning up to 2x the real disk space. Safe in dev because PVCs
  # are routinely sized larger than their actual usage (e.g. a 5 GB PVC for a
  # Postgres instance holding 200 MB). 100% means 57 GB real â†’ 114 GB ceiling.
  # Default is 200%, which caused provisioning failures when the math broke down.
  storageOverProvisioningPercentage: 150

persistence:
  defaultClass: false
